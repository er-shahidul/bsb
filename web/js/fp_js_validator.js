function FpJsFormElement(){this.id="",this.name="",this.type="",this.invalidMessage="",this.bubbling=!1,this.disabled=!1,this.transformers=[],this.data={},this.children={},this.parent=null,this.domNode=null,this.callbacks={},this.errors={},this.groups=function(){return["Default"]},this.validate=function(){if(this.disabled)return!0;var t=this,e="form-error-"+String(this.id).replace(/_/g,"-");t.errors[e]=FpJsFormValidator.validateElement(t);var a=FpJsFormValidator.getErrorPathElement(t),s=a.domNode;if(!s)for(var r in a.children){var i=a.children[r].domNode;if(i){s=i;break}}return a.showErrors.apply(s,[t.errors[e],e]),0==t.errors[e].length},this.validateRecursively=function(){this.validate();for(var t in this.children)this.children[t].validateRecursively()},this.isValid=function(){for(var t in this.errors)if(this.errors[t].length>0)return!1;for(var e in this.children)if(!this.children[e].isValid())return!1;return!0},this.showErrors=function(t,e){if(this instanceof HTMLElement){var a=this,s=FpJsFormValidator.getDefaultErrorContainerNode(a);if(s)for(var r=s.childNodes.length;r--;)e==s.childNodes[r].className&&s.removeChild(s.childNodes[r]);if(t.length){s||((s=document.createElement("ul")).className=FpJsFormValidator.errorClass,a.parentNode.insertBefore(s,a));var i;for(var n in t)(i=document.createElement("li")).className=e,i.innerHTML=t[n],s.appendChild(i)}else s&&!s.childNodes&&s.parentNode.removeChild(s)}},this.onValidate=function(t,e){},this.submitForm=function(t){t.submit()}}function FpJsAjaxRequest(){this.queue=0,this.callbacks=[],this.sendRequest=function(t,e,a){var s=this,r=this.createRequest();try{r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4==r.readyState&&200==r.status&&(a(r.responseText),s.queue--,s.checkQueue())},r.send(this.serializeData(e,null)),s.queue++}catch(t){console.log(t.message)}},this.checkQueue=function(){if(0==this.queue)for(var t in this.callbacks)this.callbacks[t]()},this.serializeData=function(t,e){var a=[];for(var s in t){var r=e?e+"["+s+"]":s,i=t[s];a.push("object"==typeof i?this.serializeData(i,r):encodeURIComponent(r)+"="+encodeURIComponent(i))}return a.join("&")},this.createRequest=function(){var t=null;if(window.XMLHttpRequest)t=new XMLHttpRequest;else{try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{t=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{t=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}}return t}}function FpJsCustomizeMethods(){this.init=function(t){return FpJsFormValidator.each(this,function(e){e.jsFormValidator||(e.jsFormValidator={});for(var a in t)switch(a){case"customEvents":t[a].apply(e);break;default:e.jsFormValidator[a]=t[a]}},!1),this},this.validate=function(t){var e=!0;return FpJsFormValidator.each(this,function(a){var s=t&&!0===t.recursive?"validateRecursively":"validate";if((!t||!1!==t.findUniqueConstraint)&&a.jsFormValidator.parent){var r=a.jsFormValidator.parent.data;if(r.entity&&r.entity.constraints)for(var i in r.entity.constraints){var n=r.entity.constraints[i];if(n instanceof FpJsFormValidatorBundleFormConstraintUniqueEntity&&n.fields.indexOf(a.jsFormValidator.name)>-1){var o=a.jsFormValidator.parent;n.validate(null,o)}}}a.jsFormValidator[s]()||(e=!1)}),e},this.showErrors=function(t){FpJsFormValidator.each(this,function(e){e.jsFormValidator.errors[t.sourceId]=t.errors,e.jsFormValidator.showErrors.apply(e,[t.errors,t.sourceId])})},this.submitForm=function(t){FpJsFormValidator.each(this,function(e){var a=e.jsFormValidator;t&&t.preventDefault(),a.validateRecursively(),FpJsFormValidator.ajax.queue?(t&&t.preventDefault(),FpJsFormValidator.ajax.callbacks.push(function(){a.onValidate.apply(a.domNode,[FpJsFormValidator.getAllErrors(a,{}),t]),a.isValid()&&a.submitForm.apply(e,[e])})):(a.onValidate.apply(a.domNode,[FpJsFormValidator.getAllErrors(a,{}),t]),a.isValid()&&a.submitForm.apply(e,[e]))})},this.get=function(){var t=[];return FpJsFormValidator.each(this,function(e){t.push(e.jsFormValidator)}),t},this.addPrototype=function(t){FpJsFormValidator.each(this,function(e){var a=FpJsFormValidator.preparePrototype(FpJsFormValidator.cloneObject(e.jsFormValidator.prototype),t,e.jsFormValidator.id+"_"+t);e.jsFormValidator.children[t]=FpJsFormValidator.createElement(a),e.jsFormValidator.children[t].parent=e.jsFormValidator})},this.delPrototype=function(t){FpJsFormValidator.each(this,function(e){delete e.jsFormValidator.children[t]})}}function SymfonyComponentValidatorConstraintsBlank(){this.message="",this.validate=function(t){var e=[];return FpJsFormValidator.isValueEmty(t)||e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsCallback(){this.callback=null,this.methods=[],this.validate=function(t,e){this.callback||(this.callback=[]),this.methods.length||(this.methods=[this.callback]);for(var a in this.methods){var s=FpJsFormValidator.getRealCallback(e,this.methods[a]);if(null===s)throw new Error('Can not find a "'+this.callback+'" callback for the element id="'+e.id+'" to validate the Callback constraint.');s.apply(e.domNode)}return[]}}function SymfonyComponentValidatorConstraintsChoice(){this.choices=[],this.callback=null,this.max=null,this.min=null,this.message="",this.maxMessage="",this.minMessage="",this.multiple=!1,this.multipleMessage="",this.strict=!1,this.validate=function(t,e){var a=[];if(null===(t=this.getValue(t)))return a;var s=this.getInvalidChoices(t,this.getChoicesList(e)),r=s.length;if(this.multiple)r&&a.push(this.multipleMessage.replace("{{ value }}",FpJsBaseConstraint.formatValue(s[0]))),!isNaN(this.min)&&t.length<this.min&&a.push(this.minMessage),!isNaN(this.max)&&t.length>this.max&&a.push(this.maxMessage);else if(r)for(;r--;)a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(s[r])));return a},this.onCreate=function(){this.min=parseInt(this.min),this.max=parseInt(this.max),this.minMessage=FpJsBaseConstraint.prepareMessage(this.minMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.min)},this.min),this.maxMessage=FpJsBaseConstraint.prepareMessage(this.maxMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.max)},this.max)},this.getValue=function(t){return-1!==[void 0,null,""].indexOf(t)?null:t instanceof Array?t:[t]},this.getChoicesList=function(t){var e=null;if(this.callback){var a=FpJsFormValidator.getRealCallback(t,this.callback);if(null===a)throw new Error('Can not find a "'+this.callback+'" callback for the element id="'+t.id+'" to get a choices list.');e=a.apply(t.domNode)}return null==e&&(e=null==this.choices?[]:this.choices),e},this.getInvalidChoices=function(t,e){var a=function(t){return-1==e.indexOf(t)};return this.strict&&(a=function(t){var a=!1;for(var s in e)t!==e[s]&&(a=!0);return a}),t.filter(a)}}function SymfonyComponentValidatorConstraintsCount(){this.maxMessage="",this.minMessage="",this.exactMessage="",this.max=null,this.min=null,this.validate=function(t){var e=[],a=FpJsFormValidator;if(!a.isValueArray(t)&&!a.isValueObject(t))return e;var s=a.getValueLength(t);if(null!==s){if(this.max===this.min&&s!==this.min)return e.push(this.exactMessage),e;!isNaN(this.max)&&s>this.max&&e.push(this.maxMessage),!isNaN(this.min)&&s<this.min&&e.push(this.minMessage)}return e},this.onCreate=function(){this.min=parseInt(this.min),this.max=parseInt(this.max),this.minMessage=FpJsBaseConstraint.prepareMessage(this.minMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.min)},this.min),this.maxMessage=FpJsBaseConstraint.prepareMessage(this.maxMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.max)},this.max),this.exactMessage=FpJsBaseConstraint.prepareMessage(this.exactMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.min)},this.min)}}function SymfonyComponentValidatorConstraintsDate(){this.message="",this.validate=function(t){var e=/^(\d{4})-(\d{2})-(\d{2})$/,a=[];return FpJsFormValidator.isValueEmty(t)||e.test(t)||a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),a}}function SymfonyComponentValidatorConstraintsDateTime(){this.message="",this.validate=function(t){var e=/^(\d{4})-(\d{2})-(\d{2}) (0[0-9]|1[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,a=[];return FpJsFormValidator.isValueEmty(t)||e.test(t)||a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),a}}function SymfonyComponentValidatorConstraintsEmail(){this.message="",this.validate=function(t){var e=/^[-a-z0-9~!$%^&*_=+}{'?]+(\.[-a-z0-9~!$%^&*_=+}{'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i,a=[];return FpJsFormValidator.isValueEmty(t)||e.test(t)||a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),a}}function SymfonyComponentValidatorConstraintsEqualTo(){this.message="",this.value=null,this.validate=function(t){var e=[];return FpJsFormValidator.isValueEmty(t)||this.value==t||e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value)).replace("{{ compared_value_type }}",FpJsBaseConstraint.formatValue(this.value))),e}}function SymfonyComponentValidatorConstraintsGreaterThan(){this.message="",this.value=null,this.validate=function(t){return FpJsFormValidator.isValueEmty(t)||t>this.value?[]:[this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value))]}}function SymfonyComponentValidatorConstraintsGreaterThanOrEqual(){this.message="",this.value=null,this.validate=function(t){return FpJsFormValidator.isValueEmty(t)||t>=this.value?[]:[this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value))]}}function SymfonyComponentValidatorConstraintsIdenticalTo(){this.message="",this.value=null,this.validate=function(t){var e=[];return""!==t&&this.value!==t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value)).replace("{{ compared_value_type }}",FpJsBaseConstraint.formatValue(this.value))),e}}function SymfonyComponentValidatorConstraintsIp(){this.message="",this.validate=function(t){var e=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,a=[];return FpJsFormValidator.isValueEmty(t)||e.test(t)||a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),a}}function SymfonyComponentValidatorConstraintsIsFalse(){this.message="",this.validate=function(t){var e=[];return""!==t&&!1!==t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsIsNull(){this.message="",this.validate=function(t){var e=[];return null!==t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsIsTrue(){this.message="",this.validate=function(t){if(""===t)return[];var e=[];return!0!==t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsLength(){this.maxMessage="",this.minMessage="",this.exactMessage="",this.max=null,this.min=null,this.validate=function(t){var e=[],a=FpJsFormValidator.getValueLength(t);if(""!==t&&null!==a){if(this.max===this.min&&a!==this.min)return e.push(this.exactMessage),e;!isNaN(this.max)&&a>this.max&&e.push(this.maxMessage),!isNaN(this.min)&&a<this.min&&e.push(this.minMessage)}return e},this.onCreate=function(){this.min=parseInt(this.min),this.max=parseInt(this.max),this.minMessage=FpJsBaseConstraint.prepareMessage(this.minMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.min)},this.min),this.maxMessage=FpJsBaseConstraint.prepareMessage(this.maxMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.max)},this.max),this.exactMessage=FpJsBaseConstraint.prepareMessage(this.exactMessage,{"{{ limit }}":FpJsBaseConstraint.formatValue(this.min)},this.min)}}function SymfonyComponentValidatorConstraintsLessThan(){this.message="",this.value=null,this.validate=function(t){return FpJsFormValidator.isValueEmty(t)||t<this.value?[]:[this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value))]}}function SymfonyComponentValidatorConstraintsLessThanOrEqual(){this.message="",this.value=null,this.validate=function(t){return FpJsFormValidator.isValueEmty(t)||t<=this.value?[]:[this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value))]}}function SymfonyComponentValidatorConstraintsNotBlank(){this.message="",this.validate=function(t){var e=[];return FpJsFormValidator.isValueEmty(t)&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsNotEqualTo(){this.message="",this.value=null,this.validate=function(t){var e=[];return""!==t&&this.value==t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value)).replace("{{ compared_value_type }}",FpJsBaseConstraint.formatValue(this.value))),e}}function SymfonyComponentValidatorConstraintsNotIdenticalTo(){this.message="",this.value=null,this.validate=function(t){var e=[];return""!==t&&this.value===t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ compared_value }}",FpJsBaseConstraint.formatValue(this.value)).replace("{{ compared_value_type }}",FpJsBaseConstraint.formatValue(this.value))),e}}function SymfonyComponentValidatorConstraintsNotNull(){this.message="",this.validate=function(t){var e=[];return null===t&&e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e}}function SymfonyComponentValidatorConstraintsRange(){this.maxMessage="",this.minMessage="",this.invalidMessage="",this.max=null,this.min=null,this.validate=function(t){var e=[];return FpJsFormValidator.isValueEmty(t)?e:(isNaN(t)&&e.push(this.invalidMessage.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),!isNaN(this.max)&&t>this.max&&e.push(this.maxMessage.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ limit }}",FpJsBaseConstraint.formatValue(this.max))),!isNaN(this.min)&&t<this.min&&e.push(this.minMessage.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ limit }}",FpJsBaseConstraint.formatValue(this.min))),e)},this.onCreate=function(){this.min=parseInt(this.min),this.max=parseInt(this.max)}}function SymfonyComponentValidatorConstraintsRegex(){this.message="",this.pattern="",this.match=!0,this.validate=function(t){var e=[];return FpJsFormValidator.isValueEmty(t)||this.pattern.test(t)||e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),e},this.onCreate=function(){var t=this.pattern.match(/[\/#](\w*)$/);this.pattern=new RegExp(this.pattern.trim().replace(/(^[\/#])|([\/#]\w*$)/g,""),t[1])}}function SymfonyComponentValidatorConstraintsTime(){this.message="",this.validate=function(t){var e=/^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,a=[];return FpJsFormValidator.isValueEmty(t)||e.test(t)||a.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t))),a}}function SymfonyComponentValidatorConstraintsType(){this.message="",this.type="",this.validate=function(t){if(""===t)return[];var e=[],a=!1;switch(this.type){case"array":a=t instanceof Array;break;case"bool":case"boolean":a="boolean"==typeof t;break;case"callable":a="function"==typeof t;break;case"float":case"double":case"real":a="number"==typeof t&&t%1!=0;break;case"int":case"integer":case"long":a=t===parseInt(t);break;case"null":a=null===t;break;case"numeric":a=!isNaN(t);break;case"object":a=null!==t&&"object"==typeof t;break;case"scalar":a=/boolean|number|string/.test(typeof t);break;case"":case"string":a="string"==typeof t;break;case"resource":a=!0;break;default:throw'The wrong "'+this.type+'" type was passed to the Type constraint'}return a||e.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue(t)).replace("{{ type }}",this.type)),e}}function SymfonyComponentValidatorConstraintsUrl(){this.message="",this.validate=function(t,e){var a=/(ftp|https?):\/\/(www\.)?[\w\-\.@:%_\+~#=]+\.\w{2,3}(\/\w+)*(\?.*)?/,s=[];return FpJsFormValidator.isValueEmty(t)||a.test(t)||(e.domNode.value="http://"+t,s.push(this.message.replace("{{ value }}",FpJsBaseConstraint.formatValue("http://"+t)))),s}}function SymfonyComponentValidatorConstraintsValid(){this.validate=function(t,e){return[]}}function FpJsFormValidatorBundleFormConstraintUniqueEntity(){this.message="This value is already used.",this.service="doctrine.orm.validator.unique",this.em=null,this.repositoryMethod="findBy",this.fields=[],this.errorPath=null,this.ignoreNull=!0,this.entityName=null,this.groups=[],this.validate=function(t,e){var a=this,s=null,r=FpJsFormValidator.config,i=this.getErrorPathElement(e);return r.routing&&r.routing.check_unique_entity&&(s=r.routing.check_unique_entity),s?(FpJsFormValidator.ajax.sendRequest(s,{message:this.message,id:e.domNode.getAttribute("data-ref"),service:this.service,em:this.em,repositoryMethod:this.repositoryMethod,fields:this.fields,errorPath:this.errorPath,ignoreNull:this.ignoreNull?1:0,groups:this.groups,entityName:this.entityName,data:this.getValues(e,this.fields)},function(t){var e=[];!1===(t=JSON.parse(t))&&e.push(a.message),FpJsFormValidator.customize(i.domNode,"showErrors",{errors:e,sourceId:"unique-entity-"+a.uniqueId})}),[]):[]},this.onCreate=function(){"string"==typeof this.fields&&(this.fields=[this.fields])},this.getValues=function(t,e){for(var a,s={},r=0;r<e.length;r++)a=(a=FpJsFormValidator.getElementValue(t.children[this.fields[r]]))||"",s[e[r]]=a;return s},this.getErrorPathElement=function(t){var e=this.fields[0];return this.errorPath&&(e=this.errorPath),t.children[e]}}function SymfonyComponentFormExtensionCoreDataTransformerArrayToPartsTransformer(){this.partMapping={},this.reverseTransform=function(t){if("object"!=typeof t)throw new Error("Expected an object.");var e={};for(var a in this.partMapping)if(void 0!==t[a])for(var s=this.partMapping[a].length;s--;){var r=this.partMapping[a][s];void 0!==t[a][r]&&(e[r]=t[a][r])}return e}}function SymfonyComponentFormExtensionCoreDataTransformerBooleanToStringTransformer(){this.trueValue=null,this.reverseTransform=function(t){if("boolean"==typeof t)return t;if(t===this.trueValue)return!0;if(t)throw new Error("Wrong type of value");return!1}}function SymfonyComponentFormExtensionCoreDataTransformerChoiceToBooleanArrayTransformer(){this.choiceList={},this.placeholderPresent=!1,this.reverseTransform=function(t){if("object"!=typeof t)throw new Error("Unexpected value type");for(var e in t)if(t[e]){if(void 0!==this.choiceList[e])return""===this.choiceList[e]?null:this.choiceList[e];if(this.placeholderPresent&&"placeholder"==e)return null;throw new Error('The choice "'+e+'" does not exist')}return null}}function SymfonyComponentFormExtensionCoreDataTransformerChoiceToValueTransformer(){this.choiceList={},this.reverseTransform=function(t){for(var e in t)""===t[e]&&t.splice(e,1);return t}}function SymfonyComponentFormExtensionCoreDataTransformerChoicesToBooleanArrayTransformer(){this.choiceList={},this.reverseTransform=function(t){if("object"!=typeof t)throw new Error("Unexpected value type");var e=[],a=[];for(var s in t)t[s]&&(void 0!==this.choiceList[s]?e.push(this.choiceList[s]):a.push(s));if(a.length)throw new Error('The choices "'+a.join(", ")+'" were not found.');return e}}function SymfonyComponentFormExtensionCoreDataTransformerChoicesToValuesTransformer(){this.choiceList={},this.reverseTransform=function(t){for(var e in t)""===t[e]&&t.splice(e,1);return t}}function SymfonyComponentFormExtensionCoreDataTransformerDataTransformerChain(t){this.transformers=t,this.reverseTransform=function(t,e){for(var a=this.transformers.length,s=0;s<a;s++)t=this.transformers[s].reverseTransform(t,e);return t}}function SymfonyComponentFormExtensionCoreDataTransformerDateTimeToArrayTransformer(){this.dateFormat="{0}-{1}-{2}",this.timeFormat="{0}:{1}:{2}",this.reverseTransform=function(t){var e=[];return(t.year||t.month||t.day)&&e.push(this.formatDate(this.dateFormat,[t.year?t.year:"1970",t.month?this.twoDigits(t.month):"01",t.day?this.twoDigits(t.day):"01"])),(t.hour||t.minute||t.second)&&e.push(this.formatDate(this.timeFormat,[t.hour?this.twoDigits(t.hour):"00",t.minute?this.twoDigits(t.minute):"00",t.second?this.twoDigits(t.second):"00"])),e.join(" ")},this.twoDigits=function(t){return("0"+t).slice(-2)},this.formatDate=function(t,e){return t.replace(/{(\d+)}/g,function(t,a){return void 0!==e[a]?e[a]:t})}}function SymfonyComponentFormExtensionCoreDataTransformerValueToDuplicatesTransformer(){this.keys=[],this.reverseTransform=function(t,e){var a=void 0,s=[];for(var r in t){void 0===a&&(a=t[r]);var i=e.children[this.keys[0]];if(t[r]!==a){s.push(e.invalidMessage);break}}return FpJsFormValidator.customize(i.domNode,"showErrors",{errors:s,sourceId:"value-to-duplicates-"+i.id}),a}}function generateErrorElement(t,e){removeGeneratedErrorElement(t),t.after('<span class="help-block"><ul class="list-unstyled"><li><span class="glyphicon glyphicon-exclamation-sign"></span> '+e+"</li></ul></span>"),t.parents(".form-group").addClass("has-error")}function removeGeneratedErrorElement(t){var e=t.next();e.hasClass("help-block")&&(e.remove(),t.parents(".form-group").removeClass("has-error"))}var FpJsBaseConstraint={prepareMessage:function(t,e,a){var s=t,r=t.split("|");r.length>1&&(s=1==a?r[0]:r[1]);for(var i in e){var n=new RegExp(i,"g");s=s.replace(n,e[i])}return s},formatValue:function(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return t.format("Y-m-d H:i:s");case"[object Object]":return"object";case"[object Array]":return"array";case"[object String]":return'"'+t+'"';case"[object Null]":return"null";case"[object Boolean]":return t?"true":"false";default:return String(t)}}},FpJsFormValidator=new function(){this.forms={},this.errorClass="form-errors",this.config={},this.ajax=new FpJsAjaxRequest,this.customizeMethods=new FpJsCustomizeMethods,this.constraintsCounter=0,this.addModel=function(t,e){var a=this;t&&(!1!==e?this.onDocumentReady(function(){a.forms[t.id]=a.initModel(t)}):a.forms[t.id]=a.initModel(t))},this.onDocumentReady=function(t){var e=document.addEventListener||document.attachEvent,a=document.removeEventListener||document.detachEvent,s=document.addEventListener?"DOMContentLoaded":"onreadystatechange";e.call(document,s,function(){a.call(this,s,arguments.callee,!1),t()},!1)},this.initModel=function(t){var e=this.createElement(t),a=this.findFormElement(e);return e.domNode=a,this.attachElement(e),a&&this.attachDefaultEvent(e,a),e},this.createElement=function(t){var e=new FpJsFormElement;if(e.domNode=this.findDomElement(t),t.children instanceof Array&&!t.length&&!e.domNode)return null;for(var a in t)if("children"==a)for(var s in t.children){var r=this.createElement(t.children[s]);r&&(e.children[s]=r,e.children[s].parent=e)}else"transformers"==a?e.transformers=this.parseTransformers(t[a]):e[a]=t[a];for(var i in e.data){var n=[];e.data[i].constraints&&(n=this.parseConstraints(e.data[i].constraints)),e.data[i].constraints=n;var o={};if(e.data[i].getters)for(var l in e.data[i].getters)o[l]=this.parseConstraints(e.data[i].getters[l]);e.data[i].getters=o}return this.attachElement(e),e},this.validateElement=function(t){var e=[],a=this.getElementValue(t);for(var s in t.data)if(("entity"!=s||!t.parent||this.shouldValidEmbedded(t))&&("parent"!=s||!t.parent||!t.parent.parent||this.shouldValidEmbedded(t.parent))){var r=t.data[s].groups;"string"==typeof r&&(r=this.getParentElementById(r,t).groups.apply(t.domNode)),e=e.concat(this.validateConstraints(a,t.data[s].constraints,r,t));for(var i in t.data[s].getters)if("function"==typeof t.callbacks[i]){var n=t.callbacks[i].apply(t.domNode);e=e.concat(this.validateConstraints(n,t.data[s].getters[i],r,t))}}return e},this.shouldValidEmbedded=function(t){if(this.getElementValidConstraint(t))return!0;if(t.parent&&"Symfony\\Component\\Form\\Extension\\Core\\Type\\CollectionType"==t.parent.type){var e=this.getElementValidConstraint(t);return!e||e.traverse}return!1},this.getElementValidConstraint=function(t){if(t.data&&t.data.form)for(var e in t.data.form.constraints)if(t.data.form.constraints[e]instanceof SymfonyComponentValidatorConstraintsValid)return t.data.form.constraints[e]},this.validateConstraints=function(t,e,a,s){for(var r=[],i=e.length;i--;)this.checkValidationGroups(a,e[i])&&(r=r.concat(e[i].validate(t,s)));return r},this.checkValidationGroups=function(t,e){for(var a=!1,s=t.length,r=e.groups||["Default"];s--;)if(-1!==r.indexOf(t[s])){a=!0;break}return a},this.getElementValue=function(t){var e=t.transformers.length,a=this.getInputValue(t);if(e&&void 0===a)a=this.getMappedValue(t);else if("Symfony\\Component\\Form\\Extension\\Core\\Type\\CollectionType"==t.type){a={};for(var s in t.children)a[s]=this.getMappedValue(t.children[s])}else a=this.getSpecifiedElementTypeValue(t);for(;e--;)a=t.transformers[e].reverseTransform(a,t);return a},this.getInputValue=function(t){return t.domNode?t.domNode.value:void 0},this.getMappedValue=function(t){var e=this.getSpecifiedElementTypeValue(t);if(void 0===e){e={};for(var a in t.children){var s=t.children[a];e[s.name]=this.getMappedValue(s)}}return e},this.getSpecifiedElementTypeValue=function(t){if(t.domNode){var e;if("Symfony\\Component\\Form\\Extension\\Core\\Type\\CheckboxType"==t.type||"Symfony\\Component\\Form\\Extension\\Core\\Type\\RadioType"==t.type)e=t.domNode.checked;else if("select"===t.domNode.tagName.toLowerCase()){e=[];for(var a=t.domNode,s=a.length;s--;)a.options[s].selected&&e.push(a.options[s].value)}else e=this.getInputValue(t);return e}},this.parseConstraints=function(t){var e=[];for(var a in t){var s=a.replace(/\\/g,"");if(void 0!==window[s])for(var r=t[a].length;r--;){var i=new window[s];for(var n in t[a][r])i[n]=t[a][r][n];i.uniqueId=this.constraintsCounter,this.constraintsCounter++,"function"==typeof i.onCreate&&i.onCreate(),e.push(i)}}return e},this.parseTransformers=function(t){for(var e=[],a=t.length;a--;){var s=String(t[a].name).replace(/\\/g,"");if(void 0!==window[s]){var r=new window[s];for(var i in t[a])r[i]=t[a][i];void 0!==r.transformers&&(r.transformers=this.parseTransformers(r.transformers)),e.push(r)}}return e},this.getParentElementById=function(t,e){return t==e.id?e:e.parent?this.getParentElementById(t,e.parent):null},this.attachElement=function(t){if(t.domNode){if(void 0!==t.domNode.jsFormValidator)for(var e in t.domNode.jsFormValidator)t[e]=t.domNode.jsFormValidator[e];t.domNode.jsFormValidator=t}},this.attachDefaultEvent=function(t,e){e.addEventListener("submit",function(t){FpJsFormValidator.customize(e,"submitForm",t)})},this.findDomElement=function(t){var e=document.getElementById(t.id);if(!e){var a=document.getElementsByName(t.name);a.length&&(e=a[0])}return e},this.findFormElement=function(t){var e=null;if(t.domNode&&"form"==t.domNode.tagName.toLowerCase())e=t.domNode;else{var a=this.findRealChildElement(t);a&&(e=this.findParentForm(a))}return e},this.findRealChildElement=function(t){var e=t.domNode;if(!e)for(var a in t.children)if(e=t.children[a].domNode)break;return e},this.findParentForm=function(t){return t.tagName&&"form"==t.tagName.toLowerCase()?t:t.parentNode?this.findParentForm(t.parentNode):null},this.getDefaultErrorContainerNode=function(t){var e=t.previousSibling;return e&&e.className===this.errorClass?e:null},this.getErrorPathElement=function(t){return t.bubbling?this.getRootElement(t):t},this.getRootElement=function(t){return t.parent?this.getRootElement(t.parent):t},this.customize=function(t,e){return Array.isArray(t)||(t=[t]),e?"object"==typeof e?this.customizeMethods.init.apply(t,Array.prototype.slice.call(arguments,1)):this.customizeMethods[e]?this.customizeMethods[e].apply(t,Array.prototype.slice.call(arguments,2)):($.error("Method "+e+" does not exist"),this):this.customizeMethods.get.apply(t,Array.prototype.slice.call(arguments,1))},this.each=function(t,e,a){a=void 0==a||a;for(var s=t.length;s--;)(!a||t[s]&&t[s].jsFormValidator)&&e(t[s])},this.getRealCallback=function(t,e){var a=null,s=null;"string"==typeof e?s=e:Array.isArray(e)&&(1==e.length?s=e[0]:(a=e[0],s=e[1]));var r=null;return t.callbacks[a]||"function"!=typeof t.callbacks[s]?t.callbacks[a]&&"function"==typeof t.callbacks[a][s]?r=t.callbacks[a][s]:"function"==typeof t.callbacks[s]&&(r=t.callbacks[s]):r=t.callbacks[s],r},this.getAllErrors=function(t,e){null!=e&&"object"==typeof e||(e={});var a=!1;for(var s in t.errors)if(t.errors[s].length){a=!0;break}a&&(e[t.id]=t.errors);for(var r in t.children)e=this.getAllErrors(t.children[r],e);return e},this.preparePrototype=function(t,e,a){if(t.name=t.name.replace(/__name__/g,e),t.id=t.id.replace(/__name__/g,a),"object"==typeof t.children)for(var s in t.children)t[s]=this.preparePrototype(t.children[s],e,a);return t},this.cloneObject=function(t){var e={};for(var a in t)"object"!=typeof t[a]||t[a]instanceof Array?e[a]=t[a]:e[a]=this.cloneObject(t[a]);return e},this.isValueEmty=function(t){return[void 0,null,!1].indexOf(t)>=0||0===this.getValueLength(t)},this.isValueArray=function(t){return t instanceof Array},this.isValueObject=function(t){return"object"==typeof t&&null!==t},this.getValueLength=function(t){var e=null;if("number"==typeof t||"string"==typeof t||this.isValueArray(t))e=t.length;else if(this.isValueObject(t)){var a=0;for(var s in t)t.hasOwnProperty(s)&&a++;e=a}return e}},SymfonyComponentValidatorConstraintsFalse=SymfonyComponentValidatorConstraintsIsFalse,SymfonyComponentValidatorConstraintsNull=SymfonyComponentValidatorConstraintsIsNull,SymfonyComponentValidatorConstraintsTrue=SymfonyComponentValidatorConstraintsTrue;window.jQuery&&function(t){t.fn.jsFormValidator=function(e){return e?"object"==typeof e?t(FpJsFormValidator.customizeMethods.init.apply(t.makeArray(this),arguments)):FpJsFormValidator.customizeMethods[e]?FpJsFormValidator.customizeMethods[e].apply(t.makeArray(this),Array.prototype.slice.call(arguments,1)):(t.error("Method "+e+" does not exist"),this):FpJsFormValidator.customizeMethods.get.apply(t.makeArray(this),arguments)}}(jQuery),$("form").find("input[type=text], input[type=email], input[type=password], input[type=radio], input[type=checkbox], textarea, select, input[type=number]").blur(function(){removeGeneratedErrorElement($(this));var t=$(this);$(this).hasClass("date-picker")?setTimeout(function(){t.jsFormValidator("validate")},200):t.jsFormValidator("validate")}).focus(function(){}).jsFormValidator({showErrors:function(t,e){t.length&&generateErrorElement($(this),t)}});